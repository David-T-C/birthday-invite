<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yareli XVI</title>

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="best kindergarten.png">

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="birthday.css">
</head>
<body>

<div class="container mt-4">
    <div class="text-center">
        <h1 class="title">Yareli XVI</h1>
       <p class="subtitle">Ven a celebrar con nosotros </p>
        <p class="subtitle">Por favor reserva antes Feb 28</p>
       <img src="Precious-Moment-Doll-BB2.jpg"
             class="img-fluid mx-auto d-block mb-4"
             alt="Party">        <!-- RSVP FORM -->
         <div class="form-wrapper">
        <form id="birthday-form" class="mx-auto" style="max-width: 400px;">
            <div class="mb-3 text-start">
                <label class="form-label">Nombre Completo</label>
                <input
                    id="name-input"
                    type="text"
                    class="form-control"
                    placeholder="Nombre"
                >
            </div>

            <div class="mb-3 text-start">
                <label class="form-label">NÃºmero de invitados</label>
                <input
                    id="number-input"
                    type="text"
                    class="form-control"
                    placeholder="NÃºmero de invitados"
                    inputmode="numeric"
                    pattern="[0-9]*"
                >
                <small class="text-muted">Ingrese un nÃºmero entre 1 y 200</small>
            </div>

            <button id="submit-btn" type="button" class="btn btn-dark w-100">
                Registrarse
            </button>
        </form>
         </div>

        <p id="success-message" class="text-success mt-3" style="display:none;">
            Â¡Registro exitoso! ðŸŽ‰
        </p>
    </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script>
  // Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyCEdvuzgcOe5ic896zFH77dYaQKhPmob48",
    authDomain: "birthday-form-836c3.firebaseapp.com",
    projectId: "birthday-form-836c3",
    storageBucket: "birthday-form-836c3.firebasestorage.app",
    messagingSenderId: "379451420129",
    appId: "1:379451420129:web:70adc4d1003bdaf13cf6a0"
  };

  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  const submitBtn = document.getElementById("submit-btn");
  const successMessage = document.getElementById("success-message");

  submitBtn.addEventListener("click", () => {
    const name = document.getElementById("name-input").value.trim();
    const numberValue = document.getElementById("number-input").value.trim();
    const number = parseInt(numberValue, 10);

    // Basic validation
    if (!name || !numberValue) {
      alert("Por favor completa todos los campos");
      return;
    }

    if (isNaN(number) || number < 1 || number > 200) {
      alert("Por favor ingresa un nÃºmero vÃ¡lido (1â€“200)");
      return;
    }

    // Save to Firestore
    db.collection("invitados").add({
      nombre: name,
      numero: number,
      timestamp: firebase.firestore.FieldValue.serverTimestamp()
    })
    .then(() => {
      document.getElementById("name-input").value = "";
      document.getElementById("number-input").value = "";
      successMessage.style.display = "block";
    })
    .catch((error) => {
      console.error("Error:", error);
      alert("Error al registrar. Intenta de nuevo.");
    });
  });
</script>

</body>
</html>
